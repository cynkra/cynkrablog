<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.37">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="David Granjon">
<meta name="dcterms.date" content="2024-05-13">
<title>cynkra blog – shinyMobile 2.0.0: a preview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon-32x32.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><meta name="robots" content="noindex">
</head>
<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://cynkra.com/" class="navbar-brand navbar-brand-logo">
    <img src="../../logo_light.svg" alt="" class="navbar-logo"></a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-consulting" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Consulting</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-consulting">
<li>
    <a class="dropdown-item" href="https://cynkra.com/consulting/">
 <span class="dropdown-text">R Consulting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cynkra.com/workshops/">
 <span class="dropdown-text">Workshops</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cynkra.com/rmarkdown/">
 <span class="dropdown-text">R Markdown templates</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-solutions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Solutions</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-solutions">
<li>
    <a class="dropdown-item" href="https://cynkra.com/posit-based-enterprise-data-science-environments/">
 <span class="dropdown-text">Enterprise Data Science Environments</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cynkra.com/cicd-images/">
 <span class="dropdown-text">Container Images</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cynkra.com/posit/">
 <span class="dropdown-text">Posit Licences</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="https://cynkra.com/opensource"> 
<span class="menu-text">open source</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://cynkra.com/about"> 
<span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://cynkra.com/blog"> 
<span class="menu-text">blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">shinyMobile 2.0.0: a preview</h1>
  <div class="quarto-categories">
    <div class="quarto-category">shiny</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Granjon </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 13, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header><p>shinyMobile has been around for about 5 years now. It allows to develop outstanding Shiny apps for iOS and Android, owing to the awesome open source Framework7 <a href="https://framework7.io/">template</a> which powers it.</p>
<p>Guess what? This year shinyMobile gets a major update to v2.2.0. I’d like to warmly thank <a href="https://hypebright.nl/">Veerle van Leemput</a> and Michael S. Czahor from <a href="https://linktr.ee/athlyticz">AthlyticZ</a> for providing significant support during this marathon.</p>
<section id="whats-new" class="level1"><h1>What’s new</h1>
<p>shinyMobile 1.0.0 and above were running Framework5 v5, a rather ancient version. With the new Framework7 v8, you might expect a significant number of changes (TO DO link), but for the best!</p>
<section id="major-changes" class="level2"><h2 class="anchored" data-anchor-id="major-changes">Major changes</h2>
<section id="new-multi-pages-experimental-support" class="level3"><h3 class="anchored" data-anchor-id="new-multi-pages-experimental-support">New multi pages experimental support</h3>
<p>We are very excited to bring this feature out for this new release. Under the hood, this is possible owing to the <code>{brochure}</code> <a href="https://github.com/ColinFay/brochure">package</a> from <a href="https://github.com/ColinFay">Colin Fay</a> as well as the internal Framework7 <a href="https://framework7.io/docs/view">router</a> component.</p>
<section id="what-does-this-mean" class="level4"><h4 class="anchored" data-anchor-id="what-does-this-mean">What does this mean?</h4>
<p>You can now develop <strong>real multi pages</strong> Shiny applications and have different url endpoints and redirections. For instance, <code>https://my-app/home</code> can be the home page while <code>https://my-app/settings</code> brings to the settings page.</p>
</section><section id="how-does-this-work" class="level4"><h4 class="anchored" data-anchor-id="how-does-this-work">How does this work?</h4>
<p>At the time of writting of this blog post, you must install a patched <code>{brochure}</code> version with <code>devtools::install_github("DivadNojnarg/brochure")</code>.</p>
<p>In the below code, we basically have 3 pages having their own content and a common layout for consistency. The router ensure beautiful transitions from one page to another. We invite you to look at the getting started article which provides more technical details.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span><span class="co"># Needs a specific version of brochure for now.</span></span>
<span><span class="co"># This allows to pass wrapper functions with options</span></span>
<span><span class="co"># as list. We need it because of the f7Page options parameter</span></span>
<span><span class="co"># and to pass the routes list object for JS.</span></span>
<span><span class="co"># devtools::install_github("DivadNojnarg/brochure")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">brochure</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Allows to use the app on a server like </span></span>
<span><span class="co"># shinyapps.io where basepath is /app_name</span></span>
<span><span class="co"># instead of "/" or "".</span></span>
<span><span class="va">make_link</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">basepath</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">basepath</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">basepath</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"/"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"%s/%s"</span>, <span class="va">basepath</span>, <span class="va">path</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">li</span><span class="op">(</span></span>
<span>    <span class="fu">f7Link</span><span class="op">(</span></span>
<span>      routable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"Link to page %s"</span>, <span class="va">i</span><span class="op">)</span>,</span>
<span>      href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">page_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu">f7Navbar</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Home page"</span><span class="op">)</span>,</span>
<span>        <span class="co"># NOTE: when the main toolbar is enabled in</span></span>
<span>        <span class="co"># f7MultiLayout, we can't use individual page toolbars.</span></span>
<span>        <span class="co"># f7Toolbar(</span></span>
<span>        <span class="co">#  position = "bottom",</span></span>
<span>        <span class="co">#  tags$a(</span></span>
<span>        <span class="co">#    href = "/2",</span></span>
<span>        <span class="co">#    "Second page",</span></span>
<span>        <span class="co">#    class = "link"</span></span>
<span>        <span class="co">#  )</span></span>
<span>        <span class="co"># ),</span></span>
<span>        <span class="co"># Page content</span></span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu">f7List</span><span class="op">(</span></span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            mode <span class="op">=</span> <span class="st">"links"</span>,</span>
<span>            <span class="va">links</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu">f7Block</span><span class="op">(</span></span>
<span>            <span class="fu">f7Text</span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"Text input"</span>, <span class="st">"default"</span><span class="op">)</span>,</span>
<span>            <span class="fu">f7Select</span><span class="op">(</span><span class="st">"select"</span>, <span class="st">"Select"</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            <span class="fu">textOutput</span><span class="op">(</span><span class="st">"res"</span><span class="op">)</span>,</span>
<span>            <span class="fu">textOutput</span><span class="op">(</span><span class="st">"res2"</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">page_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/2"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu">f7Navbar</span><span class="op">(</span></span>
<span>          title <span class="op">=</span> <span class="st">"Second page"</span>,</span>
<span>          <span class="co"># Allows to go back to main</span></span>
<span>          leftPanel <span class="op">=</span> <span class="fu">tagList</span><span class="op">(</span></span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>              href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>              class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                <span class="st">"Back"</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">shiny</span><span class="fu">::</span><span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu">f7Block</span><span class="op">(</span><span class="fu">f7Button</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"update"</span>, label <span class="op">=</span> <span class="st">"Update stepper"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          <span class="fu">f7List</span><span class="op">(</span></span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>            <span class="fu">f7Stepper</span><span class="op">(</span></span>
<span>              inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>              label <span class="op">=</span> <span class="st">"My stepper"</span>,</span>
<span>              min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>              max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>              size <span class="op">=</span> <span class="st">"small"</span>,</span>
<span>              value <span class="op">=</span> <span class="fl">4</span>,</span>
<span>              wraps <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              autorepeat <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              rounded <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              raised <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              manual <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu">f7Block</span><span class="op">(</span><span class="fu">textOutput</span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">page_3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/3"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu">f7Navbar</span><span class="op">(</span></span>
<span>          title <span class="op">=</span> <span class="st">"Third page"</span>,</span>
<span>          <span class="co"># Allows to go back to main</span></span>
<span>          leftPanel <span class="op">=</span> <span class="fu">tagList</span><span class="op">(</span></span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>              href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>              class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                <span class="st">"Back"</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">shiny</span><span class="fu">::</span><span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu">f7Block</span><span class="op">(</span><span class="st">"Nothing to show yet ..."</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">brochureApp</span><span class="op">(</span></span>
<span>  basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Pages</span></span>
<span>  <span class="fu">page_1</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">page_2</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">page_3</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Important: in theory brochure makes</span></span>
<span>  <span class="co"># each page having its own shiny session/ server function.</span></span>
<span>  <span class="co"># That's not what we want here so we'll have</span></span>
<span>  <span class="co"># a global server function.</span></span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">text</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">select</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">stepper</span><span class="op">)</span></span>
<span></span>
<span>    <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">update</span>, <span class="op">{</span></span>
<span>      <span class="fu">updateF7Stepper</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>        value <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>        step <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>        size <span class="op">=</span> <span class="st">"large"</span>,</span>
<span>        min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>        max <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        wraps <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        autorepeat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        rounded <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        raised <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"pink"</span>,</span>
<span>        manual <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        decimalPoint <span class="op">=</span> <span class="fl">2</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  wrapped <span class="op">=</span> <span class="va">f7MultiLayout</span>,</span>
<span>  wrapped_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="co"># Common toolbar</span></span>
<span>    toolbar <span class="op">=</span> <span class="fu">f7Toolbar</span><span class="op">(</span></span>
<span>      <span class="fu">f7Link</span><span class="op">(</span>icon <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>, href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      theme <span class="op">=</span> <span class="st">"md"</span>,</span>
<span>      routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        <span class="co"># Important: don't remove keepAlive</span></span>
<span>        <span class="co"># for pages as this allows</span></span>
<span>        <span class="co"># to save the input state when switching</span></span>
<span>        <span class="co"># between pages. If FALSE, each time a page is</span></span>
<span>        <span class="co"># changed, inputs are reset.</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"2"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"3"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="updated-md-design" class="level3"><h3 class="anchored" data-anchor-id="updated-md-design">Updated md design</h3>
<p>By updating to the latest Framework7 version, we now benefit from a totally revamped Android (md) design, which looks more modern. TO DO: demo app.</p>
</section><section id="refined-inputs-layout-and-style" class="level3"><h3 class="anchored" data-anchor-id="refined-inputs-layout-and-style">Refined inputs layout and style</h3>
<p>Whenever you have multiple inputs, we now recommend to wrap all of them within <code>f7List()</code> so as to benefit from new styling options such as outline, inset, strong, … Internally, we use a function able to detect whether the input is inside a <code>f7List()</code>. If yes, you can style this list by passing parameters like <code>f7List(outline = TRUE, inset = TRUE, ...)</code>. If not, the input is internally wrapped in a list to have correct rendering but no styling is possible. Besides, some input like <code>f7Text()</code> can have custom styling (add an icon, clear button, outline style), which is independent from the external list wrapper style. Hence, we don’t recommend doing <code>f7List(outline = TRUE, f7Text(outline = TRUE))</code> since it won’t render very well and instead use <code>f7List(outline = TRUE, f7Text())</code>.</p>
<p>Besides, independently from <code>f7List()</code>, some inputs having more specific styling options:</p>
<ul>
<li>
<code>f7AutoComplete()</code>.</li>
<li>
<code>f7Text()</code>, <code>f7Password()</code>, <code>f7TextArea()</code>.</li>
<li>
<code>f7Select()</code>.</li>
<li>
<code>f7Picker()</code>, <code>f7ColorPicker()</code> and <code>f7DatePicker()</code>.</li>
<li>
<code>f7Radio()</code> and <code>f7CheckboxGroup()</code>.</li>
</ul>
<p>In practices, you can design a supercharged <code>f7Text()</code> by doing so:</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">f7Text</span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Text input"</span>,</span>
<span>    value <span class="op">=</span> <span class="st">"Some text"</span>,</span>
<span>    placeholder <span class="op">=</span> <span class="st">"Your text here"</span>,</span>
<span>    style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      description <span class="op">=</span> <span class="st">"A cool text input"</span>,</span>
<span>      outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      media <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>,</span>
<span>      clearable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      floating <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This adds a description to the input (below its main content), as well as the outline style option, an icon on the left side. <code>clearable</code> is TRUE by default meaning that all text-based inputs can be cleared. <code>floating</code> is an effect that makes the label moving in and out the input area depending on the content state. When empty, the label is inside and when there is text, the label is pushed outside in its usual location.</p>
<p><code>f7Stepper()</code> and <code>f7Toggle()</code> label is now displayed on the left.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu">f7Page</span><span class="op">(</span></span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>dark <span class="op">=</span> <span class="cn">FALSE</span>, theme <span class="op">=</span> <span class="st">"ios"</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Inputs Layout"</span>,</span>
<span>    <span class="fu">f7SingleLayout</span><span class="op">(</span></span>
<span>      navbar <span class="op">=</span> <span class="fu">f7Navbar</span><span class="op">(</span></span>
<span>        title <span class="op">=</span> <span class="st">"Inputs Layout"</span>,</span>
<span>        hairline <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu">f7List</span><span class="op">(</span></span>
<span>        inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        <span class="fu">f7Text</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Text input"</span>,</span>
<span>          value <span class="op">=</span> <span class="st">"Some text"</span>,</span>
<span>          placeholder <span class="op">=</span> <span class="st">"Your text here"</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7TextArea</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"textarea"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Text area input"</span>,</span>
<span>          value <span class="op">=</span> <span class="st">"Some text"</span>,</span>
<span>          placeholder <span class="op">=</span> <span class="st">"Your text here"</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7Select</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"select"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Make a choice"</span>,</span>
<span>          choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>          selected <span class="op">=</span> <span class="fl">1</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7AutoComplete</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"myautocomplete"</span>,</span>
<span>          placeholder <span class="op">=</span> <span class="st">"Some text here!"</span>,</span>
<span>          openIn <span class="op">=</span> <span class="st">"dropdown"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Type a fruit name"</span>,</span>
<span>          choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>            <span class="st">"Apple"</span>, <span class="st">"Apricot"</span>, <span class="st">"Avocado"</span>, <span class="st">"Banana"</span>, <span class="st">"Melon"</span>,</span>
<span>            <span class="st">"Orange"</span>, <span class="st">"Peach"</span>, <span class="st">"Pear"</span>, <span class="st">"Pineapple"</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7Stepper</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"My stepper"</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>          color <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">4</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7Toggle</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"toggle"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Toggle me"</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7Picker</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"picker"</span>,</span>
<span>          placeholder <span class="op">=</span> <span class="st">"Some text here!"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Picker Input"</span>,</span>
<span>          choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>sheetPush <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7DatePicker</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Pick a date"</span>,</span>
<span>          value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">f7ColorPicker</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"mycolorpicker"</span>,</span>
<span>          placeholder <span class="op">=</span> <span class="st">"Some text here!"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Select a color"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu">f7CheckboxGroup</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"checkbox"</span>,</span>
<span>        label <span class="op">=</span> <span class="st">"Checkbox group"</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>        style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          outline <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu">f7Radio</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"radio"</span>,</span>
<span>        label <span class="op">=</span> <span class="st">"Radio group"</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>        style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          outline <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Moreover, we added a new super cool way to pass options to <code>f7Radio()</code> and <code>f7CheckboxGroup()</code>, namely <code>f7CheckboxChoice()</code> and <code>f7RadioChoice()</code> (note: you can’t use <code>update_*</code> functions on them yet), so that you can pass more metadata and description to each option (instead of just the choice name in basic shiny inputs):</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu">f7Page</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Update radio"</span>,</span>
<span>    <span class="fu">f7SingleLayout</span><span class="op">(</span></span>
<span>      navbar <span class="op">=</span> <span class="fu">f7Navbar</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Update f7Radio"</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7Block</span><span class="op">(</span></span>
<span>        <span class="fu">f7Radio</span><span class="op">(</span></span>
<span>          inputId <span class="op">=</span> <span class="st">"radio"</span>,</span>
<span>          label <span class="op">=</span> <span class="st">"Custom choices"</span>,</span>
<span>          choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            <span class="fu">f7RadioChoice</span><span class="op">(</span></span>
<span>              <span class="st">"Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></span>
<span><span class="st">            Nulla sagittis tellus ut turpis condimentum,</span></span>
<span><span class="st">            ut dignissim lacus tincidunt"</span>,</span>
<span>              title <span class="op">=</span> <span class="st">"Choice 1"</span>,</span>
<span>              subtitle <span class="op">=</span> <span class="st">"David"</span>,</span>
<span>              after <span class="op">=</span> <span class="st">"March 16, 2024"</span></span>
<span>            <span class="op">)</span>,</span>
<span>            <span class="fu">f7RadioChoice</span><span class="op">(</span></span>
<span>              <span class="st">"Cras dolor metus, ultrices condimentum sodales sit</span></span>
<span><span class="st">            amet, pharetra sodales eros. Phasellus vel felis tellus.</span></span>
<span><span class="st">            Mauris rutrum ligula nec dapibus feugiat"</span>,</span>
<span>              title <span class="op">=</span> <span class="st">"Choice 2"</span>,</span>
<span>              subtitle <span class="op">=</span> <span class="st">"Veerle"</span>,</span>
<span>              after <span class="op">=</span> <span class="st">"March 17, 2024"</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="fl">2</span>,</span>
<span>          style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            dividers <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">textOutput</span><span class="op">(</span><span class="st">"res"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">radio</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="new-f7treeview-component" class="level3"><h3 class="anchored" data-anchor-id="new-f7treeview-component">New <code>f7Treeview()</code> component</h3>
<p>A brand new input widget enter in the place. Please welcome <code>f7Treewiew()</code>:</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu">f7Page</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"My app"</span>,</span>
<span>    <span class="fu">f7SingleLayout</span><span class="op">(</span></span>
<span>      navbar <span class="op">=</span> <span class="fu">f7Navbar</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"f7Treeview"</span><span class="op">)</span>,</span>
<span>      <span class="co"># group treeview with selectable items</span></span>
<span>      <span class="fu">f7BlockTitle</span><span class="op">(</span><span class="st">"Selectable items"</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7Block</span><span class="op">(</span></span>
<span>        <span class="fu">f7Treeview</span><span class="op">(</span></span>
<span>          id <span class="op">=</span> <span class="st">"treeview1"</span>,</span>
<span>          selectable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          <span class="fu">f7TreeviewGroup</span><span class="op">(</span></span>
<span>            title <span class="op">=</span> <span class="st">"Selected images"</span>,</span>
<span>            icon <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"folder_fill"</span><span class="op">)</span>,</span>
<span>            itemToggle <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu">f7TreeviewItem</span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"image"</span>, <span class="va">i</span>, <span class="st">".png"</span><span class="op">)</span>,</span>
<span>                                                   icon <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"photo_fill"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">textOutput</span><span class="op">(</span><span class="st">"selected"</span><span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span></span>
<span>      <span class="co"># group treeview with checkbox items</span></span>
<span>      <span class="fu">f7BlockTitle</span><span class="op">(</span><span class="st">"Checkbox"</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7Block</span><span class="op">(</span></span>
<span>        <span class="fu">f7Treeview</span><span class="op">(</span></span>
<span>          id <span class="op">=</span> <span class="st">"treeview2"</span>,</span>
<span>          withCheckbox <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          <span class="fu">f7TreeviewGroup</span><span class="op">(</span></span>
<span>            title <span class="op">=</span> <span class="st">"Selected images"</span>,</span>
<span>            icon <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"folder_fill"</span><span class="op">)</span>,</span>
<span>            itemToggle <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu">f7TreeviewItem</span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"image"</span>, <span class="va">i</span>, <span class="st">".png"</span><span class="op">)</span>,</span>
<span>                                                   icon <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"photo_fill"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">textOutput</span><span class="op">(</span><span class="st">"selected2"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">selected</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">treeview1</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">selected2</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">treeview2</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="new-f7form" class="level3"><h3 class="anchored" data-anchor-id="new-f7form">New <code>f7Form()</code>
</h3>
<p>Shiny does not provide HTML forms handling out of the box (a <a href="https://www.w3schools.com/html/html_forms.asp">form</a> being composed of multiple input elements). That’s why we introduce <code>f7Form()</code>. Contrary to basic shiny inputs, we don’t get one input value per element but a single input value with a nested list for all inputs within the form, thereby allowing to reduce the number of inputs on the server side. <code>updateF7Form()</code> can quickly update any input from the form. As a side note, the current list of supported inputs is:</p>
<ul>
<li><code>f7Text()</code></li>
<li><code>f7TextArea()</code></li>
<li><code>f7Password()</code></li>
<li><code>f7Select()</code></li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu">f7Page</span><span class="op">(</span></span>
<span>    <span class="fu">f7SingleLayout</span><span class="op">(</span></span>
<span>      navbar <span class="op">=</span> <span class="fu">f7Navbar</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Inputs form"</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7Block</span><span class="op">(</span><span class="fu">f7Button</span><span class="op">(</span><span class="st">"update"</span>, <span class="st">"Click me"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7BlockTitle</span><span class="op">(</span><span class="st">"A list of inputs in a form"</span><span class="op">)</span>,</span>
<span>      <span class="fu">f7List</span><span class="op">(</span></span>
<span>        inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        dividers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        <span class="fu">f7Form</span><span class="op">(</span></span>
<span>          id <span class="op">=</span> <span class="st">"myform"</span>,</span>
<span>          <span class="fu">f7Text</span><span class="op">(</span></span>
<span>            inputId <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>            label <span class="op">=</span> <span class="st">"Text input"</span>,</span>
<span>            value <span class="op">=</span> <span class="st">"Some text"</span>,</span>
<span>            placeholder <span class="op">=</span> <span class="st">"Your text here"</span>,</span>
<span>            style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              description <span class="op">=</span> <span class="st">"A cool text input"</span>,</span>
<span>              outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              media <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>,</span>
<span>              clearable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              floating <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu">f7TextArea</span><span class="op">(</span></span>
<span>            inputId <span class="op">=</span> <span class="st">"textarea"</span>,</span>
<span>            label <span class="op">=</span> <span class="st">"Text Area"</span>,</span>
<span>            value <span class="op">=</span> <span class="st">"Lorem ipsum dolor sit amet, consectetur</span></span>
<span><span class="st">              adipiscing elit, sed do eiusmod tempor incididunt ut</span></span>
<span><span class="st">              labore et dolore magna aliqua"</span>,</span>
<span>            placeholder <span class="op">=</span> <span class="st">"Your text here"</span>,</span>
<span>            resize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              description <span class="op">=</span> <span class="st">"A cool text input"</span>,</span>
<span>              outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              media <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>,</span>
<span>              clearable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              floating <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu">f7Password</span><span class="op">(</span></span>
<span>            inputId <span class="op">=</span> <span class="st">"password"</span>,</span>
<span>            label <span class="op">=</span> <span class="st">"Password:"</span>,</span>
<span>            placeholder <span class="op">=</span> <span class="st">"Your password here"</span>,</span>
<span>            style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              description <span class="op">=</span> <span class="st">"A cool text input"</span>,</span>
<span>              outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              media <span class="op">=</span> <span class="fu">f7Icon</span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>,</span>
<span>              clearable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              floating <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu">verbatimTextOutput</span><span class="op">(</span><span class="st">"form"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">form</span> <span class="op">&lt;-</span> <span class="fu">renderPrint</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">myform</span><span class="op">)</span></span>
<span></span>
<span>    <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">update</span>, <span class="op">{</span></span>
<span>      <span class="fu">updateF7Form</span><span class="op">(</span></span>
<span>        <span class="st">"myform"</span>,</span>
<span>        data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          <span class="st">"text"</span> <span class="op">=</span> <span class="st">"New text"</span>,</span>
<span>          <span class="st">"textarea"</span> <span class="op">=</span> <span class="st">"New text area"</span>,</span>
<span>          <span class="st">"password"</span> <span class="op">=</span> <span class="st">"New password"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="breaking-changes" class="level2"><h2 class="anchored" data-anchor-id="breaking-changes">Breaking changes</h2>
<p>Some components have disappeared from Framework7 and we we had to deprecate them as they no longer work. Other long time deprecated <a href="https://github.com/RinteRface/shinyMobile">shinyMobile</a> elements are also removed to cleanup the codebase. We invite you to review the <a href="https://github.com/RinteRface/shinyMobile/blob/69da6ca46984bf6c73e2dc32ff8d9f415ec36a30/NEWS.md#breaking-changes">changelog</a>.</p>
</section><section id="soft-deprecation" class="level2"><h2 class="anchored" data-anchor-id="soft-deprecation">Soft deprecation</h2>
<p>Some function parameters have changed and are now deprecated with <a href="https://lifecycle.r-lib.org/">lifecycle</a>. You’ll see a warning message if you use them and we invite you to accordingly update your code.</p>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/blog\.cynkra\.com\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Except where otherwise noted, content on this blog is licensed under the <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a> licence.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Blog created with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer><script async="">
    // Author: David Granjon (adapted from Mickaël Canouil)
    // Version: <1.0.0>
    // Description: Change image src depending on body class (quarto-light or quarto-dark)
    // License: MIT
    function isDarkMode() {
      var bodyClass = window.document.body.classList;
      return(bodyClass.contains('quarto-dark'))
    }

    function updateNavbarImage() {
      var navbarImg = window.document.getElementsByClassName('navbar-logo')[0];
      var src = navbarImg.src;
      var newSrc = src;
      if (!isDarkMode() && src.includes('_dark')) {
        newSrc = src.replace('_dark', '_light');
      } else if (isDarkMode() && src.includes('_light')) {
        newSrc = src.replace('_light', '_dark');
      }
      if (newSrc !== src) {
        navbarImg.src = newSrc;
      }
    }

    document.addEventListener("DOMContentLoaded", function() {
      const themeToggle = document.getElementsByClassName("quarto-color-scheme-toggle")[0];
      themeToggle.addEventListener("click", function() {
        updateNavbarImage();
      });
      if (isDarkMode()) {
        updateNavbarImage();
      }
    });
</script>


</body></html>